<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<style>
			#login{width: 200px; height: 150px; border: 1px solid black; text-align: center; margin: 100px auto}
			#login input{margin-top: 20px}
			#login button{margin-top: 15px}
		</style>
		<script src = 'ajax.js'></script>
		<script>
			window.onload = function(){
				var oLogin = document.getElementById("login");
				var aBtns = oLogin.getElementsByTagName("button");
				var aInputs = oLogin.getElementsByTagName("input");

				//登陆添加点击
				aBtns[0].onclick = function(){
					//需要传输数据的拼接  username=用户名&password=密码
					var str = `name=${aInputs[0].value}&password=${aInputs[1].value}`;
					ajax({
						method: "post",
						url: "login.php?type=login",
						data: str,
						success: function(data){
							alert(data);
						},
						error: function(msg){
							alert(msg);
						}
					})
				}

				//注册添加点击
				aBtns[1].onclick = function(){
					//需要传输数据的拼接  username=用户名&password=密码
					var str = `name=${aInputs[0].value}&password=${aInputs[1].value}`;
					ajax({
						method: "post",
						url: "login.php?type=register",
						data: str,
						success: function(data){
							alert(data);
						},
						error: function(msg){
							alert(msg);
						}
					})
				}
			}

		</script>
	</head>
	<body>
		<div id = 'login'>
			<input type="text" placeholder="用户名" name = 'name'><br/>
			<input type="password" placeholder="密码" name = 'password'><br/>
			<button>登陆</button><button>注册</button>
		</div>
	</body>
</html>